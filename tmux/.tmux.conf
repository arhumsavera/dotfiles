# ============================================
# Tmux config â€” mapped to iTerm2 keybindings
# ============================================

# --- Splitting panes (Cmd+D / Cmd+Shift+D in iTerm2) ---
# Since tmux can't bind Cmd, we use the prefix key (Ctrl+B) then:
#   | for vertical split   (like Cmd+D)
#   - for horizontal split (like Cmd+Shift+D)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# --- Navigate panes (Ghostty sends Ctrl+B then F9/F10 for Cmd+]/Cmd+[) ---
bind -n F9 select-pane -t :.+
bind -n F10 select-pane -t :.-

# Close pane (Ghostty sends F12 for Cmd+W)
bind -n F12 kill-pane


# --- Tabs (windows) ---
# Ctrl+Tab / Ctrl+Shift+Tab don't work in most terminals over SSH
# So we use Alt+] and Alt+[ which are quick single-hand shortcuts
bind -n M-] next-window
bind -n M-[ previous-window

# New tab (window)
bind -n M-t new-window -c "#{pane_current_path}"

# --- Quality of life ---
# Start window/pane numbering at 1 (not 0)
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Mouse support (scrolling, clicking panes, resizing)
set -g mouse on

# Longer scrollback
set -g history-limit 50000

# Reduce escape delay (feels snappier)
set -sg escape-time 10

# True color support
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

# --- Status bar ---
set -g status-style 'bg=default,fg=white'
set -g status-left '#[fg=green]#S '
set -g status-right '#[fg=yellow]%H:%M'
set -g window-status-current-style 'fg=cyan,bold'
set -g window-status-format ' #I:#W '
set -g window-status-current-format ' #I:#W '
